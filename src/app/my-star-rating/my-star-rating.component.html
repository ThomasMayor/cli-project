<svg style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink">
    <defs>

        <symbol id="star-empty" viewBox="0 0 34 32">
            <title>star-empty</title>
            <path class="path-star-empty"
                  d="M33.412 12.395l-11.842-1.021-4.628-10.904-4.628 10.92-11.842 1.005 8.993 7.791-2.701 11.579 10.179-6.144 10.179 6.144-2.685-11.579 8.976-7.791zM16.941 22.541l-6.193 3.739 1.647-7.049-5.468-4.744 7.214-0.626 2.8-6.638 2.816 6.654 7.214 0.626-5.468 4.744 1.647 7.049-6.209-3.755z"/>
        </symbol>

        <symbol id="star-half" viewBox="0 0 34 32">
            <title>star-half</title>
            <path class="path-star-half"
                  d="M 33.412,12.395 21.57,11.374 16.942,0.47 12.314,11.39 0.472,12.395 9.465,20.186 6.764,31.765 16.943,25.621 27.122,31.765 24.437,20.186 33.413,12.395 Z M 16.941,22.541 c 0,0 -0.297971,-14.6455833 0,-15.318 l 2.816,6.654 7.214,0.626 -5.468,4.744 1.647,7.049 z"/>
            </symbol>

        <symbol id="star-filled" viewBox="0 0 34 32">
            <title>star-filled</title>
            <path class="path-star-filled"
                  d="M16.941 25.621l10.179 6.144-2.701-11.579 8.993-7.791-11.842-1.005-4.628-10.92-4.628 10.92-11.842 1.005 8.993 7.791-2.701 11.579z"/>
        </symbol>

    </defs>
</svg>
<span (mouseleave)="onMouseOut()" class="container">
  <span (mouseenter)="onMouseOver(0)" (click)="onStarClick(0)" class="star">
    <svg class="star">
      <use xlink:href="#star-filled" *ngIf="rating >= 1 || hover >= 0" [ngClass]="{'hover' : hover >= 0}"/>
      <use xlink:href="#star-half" *ngIf="rating > 0 && rating < 1 && hover < 0" />
      <use xlink:href="#star-empty" *ngIf="rating == 0 && hover < 0"/>
    </svg>
  </span>
  <span (mouseenter)="onMouseOver(1)" (click)="onStarClick(1)" class="star">
    <svg class="star">
      <use xlink:href="#star-filled" *ngIf="rating>=2 || hover >= 1" [ngClass]="{'hover' : hover >= 1}"/>
      <use xlink:href="#star-half" *ngIf="rating >1 && rating < 2 && hover < 1" />
      <use xlink:href="#star-empty" *ngIf="rating <= 1 && hover < 1"/>
    </svg>
  </span>
  <span (mouseenter)="onMouseOver(2)" (click)="onStarClick(2)" class="star">
    <svg class="star">
      <use xlink:href="#star-filled" *ngIf="rating >= 3 || hover >= 2" [ngClass]="{'hover' : hover >= 2}"/>
      <use xlink:href="#star-half" *ngIf="rating >2 && rating < 3 && hover < 2" />
      <use xlink:href="#star-empty" *ngIf="rating <=2  && hover < 2"/>
    </svg>
  </span>
  <span (mouseenter)="onMouseOver(3)" (click)="onStarClick(3)" class="star">
    <svg class="star">
      <use xlink:href="#star-filled" *ngIf="rating >= 4 || hover >= 3" [ngClass]="{'hover' : hover >= 3}"/>
      <use xlink:href="#star-half" *ngIf="rating >3 && rating < 4 && hover < 3" />
      <use xlink:href="#star-empty" *ngIf="rating<=3 && hover < 3"/>
    </svg>
  </span>
  <span (mouseenter)="onMouseOver(4)" (click)="onStarClick(4)" class="star">
    <svg class="star">
      <use xlink:href="#star-filled" *ngIf="rating>=5 || hover >= 4" [ngClass]="{'hover' : hover >= 4}"/>
      <use xlink:href="#star-half" *ngIf="rating >4 && rating < 5 && hover < 4" />
      <use xlink:href="#star-empty" *ngIf="rating<=4 && hover < 4"/>
    </svg>
  </span>
</span>